## AS-Offline-Registry

[English](./README.md) | [ç®€ä½“ä¸­æ–‡](./README.zh.md)

### ğŸ’¡ è¿™æ˜¯ä»€ä¹ˆï¼Ÿ

**AS-Offline-Registry** æ˜¯ä¸€ä¸ªä¸“ä¸º Vue ç”Ÿæ€è®¾è®¡çš„ç¦»çº¿ Registry æ„å»ºå·¥å…·ï¼Œç”¨æ¥æŠŠ **shadcn-vue** ä¸ **ai-elements-vue** çš„å®˜æ–¹æ³¨å†Œè¡¨æ‰“åŒ…æˆä¸€ä»½å¯ç›´æ¥éƒ¨ç½²åˆ°å†…ç½‘ / ç¦»çº¿ç¯å¢ƒçš„é™æ€èµ„æºã€‚  
å®Œæˆæ„å»ºåï¼Œä½ å¯ä»¥åœ¨ç¦»çº¿ç¯å¢ƒä¸­è¿è¡Œ `npx shadcn-vue add` ä¸ `npx ai-elements-vue`ï¼Œå¹¶å°†å®ƒä»¬æŒ‡å‘ä½ è‡ªå·±çš„ç¦»çº¿ Registryã€‚

---

### ğŸŒŸ æ ¸å¿ƒç‰¹æ€§

- **å¤šæºé›†æˆ**ï¼šä¸€æ¬¡æ„å»ºåŒæ—¶å¤„ç† `shadcn-vue` ä¸ `ai-elements-vue` çš„ Registryã€‚
- **ç¦»çº¿ä¼˜å…ˆ**ï¼šäº§ç‰©ç»“æ„ä¸“é—¨ä¸ºç¦»çº¿ Registry è®¾è®¡ï¼Œæ–¹ä¾¿åœ¨å†…ç½‘æˆ–æ— å…¬ç½‘è®¿é—®ç¯å¢ƒä¸­ä½¿ç”¨ã€‚
- **è·¨å¹³å°æ”¯æŒ**ï¼šåŸºäº Node.js åŸç”Ÿ APIï¼Œå…¼å®¹ Windows / macOS / Linuxã€‚
- **é›¶ Shell ä¾èµ–**ï¼šä¸ä¾èµ– bash / sh ç­‰ Shell ç‰¹æ€§ï¼Œåªè¦æœ‰ Node ç¯å¢ƒå³å¯è¿è¡Œã€‚

---

### ğŸ§© é¡¹ç›®ç»“æ„ & å·¥ä½œåŸç†

- `repos/shadcn-vue`ï¼šå†…åµŒçš„ shadcn-vue ä»“åº“ï¼ˆé€šè¿‡ git submodule æˆ–æ‰‹åŠ¨æ‹·è´ï¼‰ã€‚
- `repos/ai-elements-vue`ï¼šå†…åµŒçš„ ai-elements-vue ä»“åº“ã€‚
- `scripts/build.js`ï¼šæ ¸å¿ƒæ„å»ºè„šæœ¬ï¼Œè´Ÿè´£å®‰è£…ä¾èµ–ã€è°ƒç”¨å„è‡ªçš„æ„å»ºå‘½ä»¤å¹¶æ•´ç†äº§ç‰©ã€‚
- `dist/`ï¼šæœ€ç»ˆç”Ÿæˆçš„ç¦»çº¿ Registry é™æ€èµ„æºç›®å½•ã€‚
  - `dist/s`ï¼šæ¥è‡ª `shadcn-vue` çš„ Registry èµ„æºã€‚
  - `dist/a`ï¼šæ¥è‡ª `ai-elements-vue` çš„ Registry èµ„æºã€‚

**æ„å»ºæµç¨‹æ¦‚è§ˆ**ï¼ˆç”± `scripts/build.js` å®Œæˆï¼‰ï¼š

1. æ¸…ç†å¹¶é‡æ–°åˆ›å»ºæ ¹ç›®å½•ä¸‹çš„ `dist/`ã€‚
2. åœ¨ `repos/shadcn-vue` é‡Œæ‰§è¡Œï¼š
   - `pnpm install`
   - `pnpm registry:build-only`
3. åœ¨ `repos/ai-elements-vue` é‡Œæ‰§è¡Œï¼š
   - `pnpm install`
   - `pnpm build:registry`
4. å°†ä¸¤ä¸ªä»“åº“ä¸­ç”Ÿæˆçš„ Registry é™æ€èµ„æºå¤åˆ¶åˆ°æ ¹ç›®å½• `dist/` é‡Œï¼Œåˆ†åˆ«æ”¾åœ¨ `dist/s` ä¸ `dist/a`ã€‚

---

### âš™ï¸ ç¯å¢ƒè¦æ±‚

- Node.jsï¼ˆæ¨è Node 18+ï¼‰
- `pnpm`ï¼ˆé¡¹ç›®ä½¿ç”¨ `pnpm@10.x`ï¼Œå»ºè®®ä¿æŒä¸€è‡´æˆ–æ›´é«˜ç‰ˆæœ¬ï¼‰
- Gitï¼ˆé¦–æ¬¡æ‹‰å–æ—¶ç”¨äºè·å– submodule ä»“åº“ï¼‰

> æç¤ºï¼šé¦–æ¬¡ä½¿ç”¨å‰éœ€è¦ç¡®ä¿å¯ä»¥è®¿é—® GitHub æˆ–ç›¸åº”ä»£ç æºï¼Œä»¥ä¾¿æ‹‰å– `shadcn-vue` ä¸ `ai-elements-vue` æºç ï¼›å®Œæˆæ„å»ºåå³å¯åœ¨å®Œå…¨ç¦»çº¿çš„ç¯å¢ƒä¸­ä½¿ç”¨æ‰“åŒ…å¥½çš„ `dist/`ã€‚

---

### ğŸš€ åˆå§‹åŒ–é¡¹ç›®

1. å…‹éš†æœ¬ä»“åº“ï¼š

```bash
git clone <your-repo-url> as-offline-registry
cd as-offline-registry
```

2. å¦‚æœä½¿ç”¨ git submodule ç®¡ç†å­ä»“åº“ï¼ˆæ¨èï¼‰ï¼š

```bash
git submodule update --init --recursive
```

3. å®‰è£…æ ¹ç›®å½•ä¾èµ–ï¼ˆä¸»è¦æ˜¯ `http-server` ç­‰å¼€å‘å·¥å…·ï¼‰ï¼š

```bash
pnpm install
```

---

### ğŸ—ï¸ æ„å»ºç¦»çº¿ Registry èµ„æº

åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œï¼š

```bash
pnpm run build:registry
```

è¯¥å‘½ä»¤ä¼šï¼š

- æ¸…ç†å¹¶é‡æ–°åˆ›å»º `dist/` ç›®å½•ã€‚
- è¿›å…¥ `repos/shadcn-vue` å®‰è£…ä¾èµ–å¹¶è¿è¡Œ `pnpm registry:build-only`ã€‚
- è¿›å…¥ `repos/ai-elements-vue` å®‰è£…ä¾èµ–å¹¶è¿è¡Œ `pnpm build:registry`ã€‚
- å°†ä¸¤ä¸ªä»“åº“æ„å»ºå‡ºçš„ Registry é™æ€èµ„æºå¤åˆ¶åˆ°æ ¹ç›®å½• `dist/` ä¸­ã€‚

æ„å»ºæˆåŠŸåï¼Œä½ ä¼šåœ¨æ ¹ç›®å½•çœ‹åˆ°ï¼š

- `dist/s`ï¼šshadcn-vue çš„ Registry é™æ€èµ„æºã€‚
- `dist/a`ï¼šai-elements-vue çš„ Registry é™æ€èµ„æºã€‚

---

### ğŸ§ª æœ¬åœ°é¢„è§ˆ / è°ƒè¯•

ä½ å¯ä»¥ç›´æ¥åœ¨æœ¬æœºå¯åŠ¨ä¸€ä¸ªé™æ€æœåŠ¡å™¨æŸ¥çœ‹ `dist/` å†…å®¹ï¼š

```bash
pnpm run start:registry
```

é»˜è®¤ä¼šä½¿ç”¨ `http-server` åœ¨æœ¬åœ° `http://localhost:4873` æä¾› `dist/` ç›®å½•çš„é™æ€è®¿é—®ã€‚

---

### ğŸŒ åœ¨ç¦»çº¿ç¯å¢ƒä¸­ä½¿ç”¨

æ¨èæµç¨‹ï¼š

1. åœ¨æœ‰ç½‘ç»œçš„ç¯å¢ƒä¸­å®Œæˆä»¥ä¸Šæ„å»ºæ­¥éª¤ï¼Œå¾—åˆ°æ ¹ç›®å½•ä¸‹çš„ `dist/`ã€‚
2. å°† `dist/` ç›®å½•æ‹·è´åˆ°ä½ çš„ç¦»çº¿æœåŠ¡å™¨æˆ–å†…ç½‘ç¯å¢ƒï¼ˆä¾‹å¦‚å†…ç½‘æœºå™¨ `/var/www/registry`ï¼‰ã€‚
3. åœ¨ç¦»çº¿ç¯å¢ƒä¸­ä½¿ç”¨ä»»æ„é™æ€æ–‡ä»¶æœåŠ¡å™¨ï¼ˆå¦‚ `http-server`ã€Nginx ç­‰ï¼‰å°†è¯¥ç›®å½•å¯¹å¤–æš´éœ²ï¼š

```bash
# ä¾‹ï¼šåœ¨ç¦»çº¿æœºå™¨ä¸Š
cd /path/to/dist
npx http-server . -p 4873
```

4. æ ¹æ® `shadcn-vue` å’Œ `ai-elements-vue` å„è‡ªçš„æ–‡æ¡£ï¼Œå°†å®ƒä»¬çš„ Registry åœ°å€é…ç½®ä¸ºä½ çš„ç¦»çº¿æœåŠ¡å™¨åœ°å€ï¼Œä¾‹å¦‚ï¼š

- `http://your-internal-host:4873/s`ï¼ˆshadcn-vueï¼‰
- `http://your-internal-host:4873/a`ï¼ˆai-elements-vueï¼‰

ç„¶ååœ¨ç¦»çº¿ç¯å¢ƒä¸­æ‰§è¡Œï¼š

```bash
npx shadcn-vue add
npx ai-elements-vue
```

å¹¶é€šè¿‡ç›¸åº”çš„ç¯å¢ƒå˜é‡æˆ–é…ç½®é¡¹ï¼ˆä»¥å„é¡¹ç›®å®˜æ–¹æ–‡æ¡£ä¸ºå‡†ï¼‰è®©è¿™ä¸¤ä¸ªå‘½ä»¤ä½¿ç”¨ä½ çš„ç¦»çº¿ Registryã€‚

---

### å¤‡æ³¨

- æœ¬æ–‡æ¡£ä»…æè¿°äº† Registry æ„å»ºä¸ç¦»çº¿éƒ¨ç½²æµç¨‹ï¼Œå…·ä½“å¦‚ä½•åœ¨ CLI ä¸­é…ç½®è‡ªå®šä¹‰ Registry URLï¼Œè¯·ä»¥ `shadcn-vue` ä¸ `ai-elements-vue` å®˜æ–¹æ–‡æ¡£ä¸ºå‡†ã€‚

